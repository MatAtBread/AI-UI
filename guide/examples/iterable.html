<!DOCTYPE html>
<head>
  <script src="../../module/dist/ai-ui.js"></script>
</head>

<body>
</body>
<script>
  const { div, input, button } = AIUI.tag();

  /* A simple async "sleep" function */
  function sleep(seconds) {
    return new Promise(resolve => setTimeout(resolve, seconds * 1000))
  }

  const App = div.extended({
    iterable: {
      thing: ['abc','def','ghi']
    },
    ids:{
      text: input
    },
    constructed() {
      return [
        div("Expression ", 
          input({ id: 'text', value: 'this.thing' }), 
          button({ 
            onclick: ()=>Function("return ("+this.ids.text.value+")" ).call(this)
          },"eval")
        ),
        div("Result ",this.thing.map(t => JSON.stringify(t)))
      ]
    }
  });

  document.body.appendChild(window.app = App());
</script>
