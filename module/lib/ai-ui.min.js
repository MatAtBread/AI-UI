var AIUI;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(){let e,t,n=new Promise(((...n)=>{[e,t]=n}));return n.resolve=e,n.reject=t,n}function o(e){return function(...t){return l(e.call(this,...t))}}e.r(t),e.d(t,{enableOnRemovedFromDOM:()=>D,getElementIdMap:()=>M,isPromiseLike:()=>O,tag:()=>I,when:()=>v});const r={map:o((async function*(e){var t,n;const o=this[Symbol.asyncIterator]();try{for(;;){const n=await o.next();if(n.done)return null===(t=o.return)||void 0===t?void 0:t.call(o,e(n.value));yield e(n.value)}}catch(e){null===(n=o.throw)||void 0===n||n.call(o,e)}})),filter:o((async function*(e){var t,n;const o=this[Symbol.asyncIterator]();try{for(;;){const n=await o.next();if(n.done)return null===(t=o.return)||void 0===t?void 0:t.call(o,n.value);await e(n.value)&&(yield n.value)}}catch(e){null===(n=o.throw)||void 0===n||n.call(o,e)}})),throttle:o((async function*(e){var t,n;const o=this[Symbol.asyncIterator]();let r=0;try{for(;;){const n=await o.next();if(n.done)return null===(t=o.return)||void 0===t?void 0:t.call(o,n.value);const i=Date.now();r<i&&(r=i+e,yield n.value)}}catch(e){null===(n=o.throw)||void 0===n||n.call(o,e)}})),debounce:o((async function*(e){var t,n;const o=this[Symbol.asyncIterator]();let r,i=s;try{for(;;){const n=await Promise.race([o.next(),i]);if("done"in n&&n.done)return null===(t=o.return)||void 0===t?void 0:t.call(o,n.value);"debounced"in n&&n.debounced?n.debounced===r&&(yield n.value):(clearTimeout(r),i=new Promise((t=>{r=setTimeout((()=>{t({debounced:r,value:n.value})}),e)})))}}catch(e){null===(n=o.throw)||void 0===n||n.call(o,e)}})),waitFor:o((async function*(e){var t,n;const o=this[Symbol.asyncIterator]();try{for(;;){const n=await o.next();if(n.done)return null===(t=o.return)||void 0===t?void 0:t.call(o,n.value);await new Promise((t=>e(t))),yield n.value}}catch(e){null===(n=o.throw)||void 0===n||n.call(o,e)}})),count:o((async function*(e){this[Symbol.asyncIterator]();let t=0;try{for await(const n of this){const o={...n,[e]:t++};yield o}}catch(e){throw e}})),retain:o((function(){const e=this[Symbol.asyncIterator]();let t;return{[Symbol.asyncIterator](){return this},next(){const n=e.next();return n.then((e=>t=e)),n},return(t){var n;return null===(n=e.return)||void 0===n?void 0:n.call(e,t)},throw(...t){var n;return null===(n=e.throw)||void 0===n?void 0:n.call(e,t)},get value(){return t.value},get done(){return Boolean(t.done)}}})),broadcast:o((function(e=(e=>e)){const t=this[Symbol.asyncIterator](),n=function(e=(()=>{})){let t=new Set;return Object.assign(Object.create(r),{[Symbol.asyncIterator](){const n=new i((()=>{if(t.delete(n),0===t.size){try{e()}catch(e){}t=null}}));return t.add(n),l(n)},push(e){if(!(null==t?void 0:t.size))return!1;for(const n of t.values())n.push(e)},close(e){var n,o;for(const r of t.values())e?null===(n=r.throw)||void 0===n||n.call(r,e):null===(o=r.return)||void 0===o||o.call(r);t=null}})}();return function e(){t.next().then((t=>{t.done||(n.push(t.value),e())})).catch((e=>n.close(e)))}(),{[Symbol.asyncIterator]:()=>e(n)[Symbol.asyncIterator]()}})),initially:o((async function*(e){yield e;for await(const e of this)yield e})),consume:async function(e){for await(const t of this)e(t)}};class i{constructor(e=(()=>{})){this.stop=e,this._pending=[],this._items=[]}[Symbol.asyncIterator](){return this}next(){let e;return this._items.length?e=Promise.resolve({done:!1,value:this._items.shift()}):(e=n(),this._pending.push(e)),e}return(){const e={done:!0,value:void 0};if(this._pending){try{this.stop()}catch(e){}for(const t of this._pending)t.reject(e);this._pending=null,this._items=null}return Promise.resolve(e)}throw(...e){const t={done:!0,value:e[0]};if(this._pending){try{this.stop()}catch(e){}for(const e of this._pending)e.reject(t);this._pending=null,this._items=null}return Promise.resolve(t)}push(e){return!this._pending||(this._pending.length?this._pending.shift().resolve({done:!1,value:e}):this._items.push(e),!1)}}const c=(...e)=>{const t=e.map((e=>Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e)),n=t.map(((e,t)=>e.next().then((e=>({idx:t,result:e}))))),o=[],r=new Promise((()=>{}));let i=n.length;return l({[Symbol.asyncIterator](){return this},next(){return i?Promise.race(n).then((({idx:e,result:c})=>c.done?(i--,n[e]=r,o[e]=c.value,{done:0===i,value:c.value}):(n[e]=t[e].next().then((t=>({idx:e,result:t}))),c))).catch((e=>{var t;return null===(t=this.throw)||void 0===t?void 0:t.call(this,e)})):Promise.reject({done:!0,value:new Error("Iterator merge complete")})},return(){var e,o;const i=new Error("Merge terminated");for(let c=0;c<t.length;c++)n[c]!==r&&(n[c]=r,null===(o=(e=t[c]).return)||void 0===o||o.call(e,{done:!0,value:i}));return Promise.resolve({done:!0,value:i})},throw(e){var o,i;for(let c=0;c<t.length;c++)n[c]!==r&&(n[c]=r,null===(i=(o=t[c]).throw)||void 0===i||i.call(o,e));return Promise.reject(e)}})};function l(e){return"map"in e&&e.map===r.map||Object.assign(e,r),e}const s=new Promise((()=>{})),a=new Map;function u(e){var t,n;const o=a.get(e.type);if(o)for(const r of o)try{const{push:i,container:c,selector:l}=r;if(document.body.contains(c))if(l){const t=c.querySelectorAll(l);for(const n of t)(e.target===n||n.contains(e.target))&&c.contains(n)&&i.push(e)}else e.target===c&&i.push(e);else{const e="Container `#"+c.id+">"+(l||"")+"` removed from DOM. Removing subscription";o.delete(r),null===(n=(t=i[Symbol.asyncIterator]()).throw)||void 0===n||n.call(t,new Error(e))}}catch(e){console.warn("docEventHandler",e)}}function d(e,t){var n;const o=(null===(n=t.match(/(.*)?\((.+)\)$/))||void 0===n?void 0:n.slice(1,3))||[t,"change"],[c,l]=o;a.has(l)||(document.addEventListener(l,u,{passive:!0,capture:!0}),a.set(l,new Set));const s=function(e=(()=>{}),t=!1){let n=0,o=new i((()=>{if(n-=1,0===n&&!t){try{e()}catch(e){}o=null}}));return Object.assign(Object.create(r),{[Symbol.asyncIterator]:()=>(n+=1,o),push:e=>!(!t&&0===n)&&o.push(e),close(e){var t,n;e?null===(t=o.throw)||void 0===t||t.call(o,e):null===(n=o.return)||void 0===n||n.call(o),o=null}})}((()=>a.get(l).delete(d))),d={push:s,container:e,selector:c||null};return a.get(l).add(d),s}async function*f(){try{await new Promise((()=>{})),yield}catch(e){console.warn("neverGonnaHappen",e)}}function y(e){return Object.assign(l((function(t){return r.map.call(e,t)})),{[Symbol.asyncIterator]:()=>e[Symbol.asyncIterator]()})}function h(e){if(!e)throw new Error("Falsy async source will never be ready\n\n"+JSON.stringify(e));return"string"==typeof e&&"@"!==e[0]}function v(e,...t){if(!t||0===t.length)return y(d(e,"(change)"));const o=t.filter((e=>"string"!=typeof e||"@"!==e[0])).map((t=>"string"==typeof t?d(e,t):t instanceof Element?d(t,"(change)"):O(t)?async function*(e){yield e}(t):t)),r={[Symbol.asyncIterator]:()=>r,next(){const e=n();return requestAnimationFrame((()=>e.resolve({done:!0,value:{}}))),e}};if(t.includes("@start")&&o.push(r),t.includes("@ready")){const n=t.filter(h).map((e=>e.split("(")[0])).filter((t=>!e.querySelector(t))),r={[Symbol.asyncIterator]:()=>r,async next(){await Promise.all([m(e,n),p(e)]);const t=(o.length>1?c(...o):1===o.length?o[0]:f())[Symbol.asyncIterator]();return r.next=()=>t.next(),r.return=(...e)=>{var n;return null===(n=t.return)||void 0===n?void 0:n.call(t,e)},r.throw=(...e)=>{var n;return null===(n=t.throw)||void 0===n?void 0:n.call(t,e)},{done:!1,value:{}}}};return y(r)}return y(o.length>1?c(...o):1===o.length?o[0]:f())}function p(e){if(document.body.contains(e))return Promise.resolve();const t=n();return new MutationObserver(((n,o)=>{var r;for(const i of n)if((null===(r=i.addedNodes)||void 0===r?void 0:r.length)&&document.body.contains(e))return o.disconnect(),void t.resolve()})).observe(document.body,{subtree:!0,childList:!0}),t}function m(e,t){if(!t.length)return Promise.resolve();const o=n();return new MutationObserver(((n,r)=>{var i;for(const c of n)if((null===(i=c.addedNodes)||void 0===i?void 0:i.length)&&!(t=t.filter((t=>!e.querySelector(t)))).length)return r.disconnect(),void o.resolve()})).observe(e,{subtree:!0,childList:!0}),o}function b(e){return"function"==typeof(null==e?void 0:e.next)}function g(e){return e&&e[Symbol.asyncIterator]&&"function"==typeof e[Symbol.asyncIterator]}function w(e){return g(e)||b(e)}function O(e){return null!=e&&"function"==typeof e.then}function S(e){if(g(e))return e[Symbol.asyncIterator]();if(b(e))return e;throw new Error("Not as async provider")}const j={get ids(){return M(this,null)},set ids(e){throw new Error("Cannot set ids on "+this.valueOf())},when:function(...e){return v(this,...e)}},E=Symbol("callStack"),I=function(e,t,n){const[o,r,i]="string"==typeof e?[e,t,n]:null==e?[null,t,n]:[null,e,t];function c(e){return"string"==typeof e||"number"==typeof e||"function"==typeof e||e instanceof Node||e instanceof NodeList||e instanceof HTMLCollection||null==e||Array.isArray(e)||O(e)||w(e)||"function"==typeof e[Symbol.iterator]}const l=Object.create(null,Object.getOwnPropertyDescriptors(j));d(l,i);const s=document.createElement("STYLE");function a(...e){const t=[];return function e(n){if(null!=n){if(O(n)){let e=[x()];return t.push(e[0]),void n.then((t=>{const n=a(t),o=e;o[0].parentElement&&(u(o[0].parentElement,o[0])(n),o.forEach((e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.removeChild(e)}))),e=n}),(t=>{console.warn(t),u(e[0])(N(t.toString()))}))}if(n instanceof Node)t.push(n);else if(w(n)){const e="",o=g(n)?n[Symbol.asyncIterator]():n,r=x();t.push(r);let i=[r];const c=e=>{const t=(Array.isArray(i)?i:[i]).filter((e=>Boolean(e)));t[0].parentNode?(i=u(t[0].parentNode,t[0])(N(e.toString())),t.forEach((e=>e.parentNode.removeChild(e)))):console.warn("Can't report error",e,i)},l=t=>{var n;if(!t.done){const r=(Array.isArray(i)?i:[i]).filter((e=>e.ownerDocument.body.contains(e)));if(!r.length)throw new Error("Element(s) no longer exist in document"+e);i=u(r[0].parentNode,r[0])(null!==(n=t.value)&&void 0!==n?n:x()),r.forEach((e=>e.parentNode.removeChild(e))),o.next().then(l).catch(c)}};o.next().then(l).catch(c)}else if("object"==typeof n&&(null==n?void 0:n[Symbol.iterator]))for(const t of n)e(t);else t.push(document.createTextNode(n.toString()))}}(e),t}function u(e,t){return void 0===t&&(t=null),function(n){const o=a(n);if(t)if(t instanceof Element)Element.prototype.before.call(t,...o);else{const n=t.parentElement;n!==e&&console.warn("Container mismatch??");for(let e=0;e<o.length;e++)n.insertBefore(o[e],t)}else Element.prototype.append.call(e,...o);return o}}function d(e,t){if(null!=t&&"object"==typeof t&&t!==e)for(const[n,o]of Object.entries(Object.getOwnPropertyDescriptors(t)))try{if("value"in o){const r=o.value;r&&w(r)?Object.defineProperty(e,n,o):r&&"object"==typeof r&&!O(r)?n in e?r instanceof Node?(console.warn("Having DOM Nodes as properties of other DOM Nodes is a bad idea as it makes the DOM tree into a cyclic graph. You should reference nodes by ID or as a child",n,r),e[n]=r):e[n]!==r&&(Array.isArray(e[n])&&e[n].length!==r.length?r.constructor===Object||r.constructor===Array?d(e[n]=new r.constructor,r):e[n]=r:d(e[n],r)):Object.defineProperty(e,n,o):void 0!==t[n]&&(e[n]=t[n])}else Object.defineProperty(e,n,o)}catch(e){throw console.warn("deepAssign",n,t[n],e,e.stack),e}}function f(e,t){E in t||function t(n,o){if(null!=o&&"object"==typeof o)for(const[r,i]of Object.entries(Object.getOwnPropertyDescriptors(o)))try{if("value"in i){const c=i.value;if(w(c)){const o=S(c),i=c=>{var s;if(e.ownerDocument.contains(e)){if(!c.done){if("object"==typeof c.value){const e=Object.getOwnPropertyDescriptor(n,r);"style"!==r&&(null==e?void 0:e.set)?n[r]=c.value:t(n[r],c.value)}else n[r]=c.value;o.next().then(i).catch(l)}}else null===(s=o.return)||void 0===s||s.call(o,new Error("Element no longer exists in document (update "+r+")"))},l=t=>{console.warn("Dynamic attribute error",t,r,n,e),u(e)(N(t.toString()))};o.next().then(i).catch(l)}w(c)||(c&&"object"==typeof c&&!O(c)?c instanceof Node?(console.warn("Having DOM Nodes as properties of other DOM Nodes is a bad idea as it makes the DOM tree into a cyclic graph. You should reference nodes by ID or as a child",r,c),n[r]=c):!(r in n)||n[r]===c||Array.isArray(n[r])&&n[r].length!==c.length?c.constructor===Object||c.constructor===Array?(n[r]=new c.constructor,t(n[r],c)):n[r]=c:t(n[r],c):void 0!==o[r]&&(n[r]=o[r]))}else Object.defineProperty(n,r,i)}catch(e){throw console.warn("assignProps",r,o[r],e,e.stack),e}}(e,t)}function y(e){var t,n,o,r;const i="function"!=typeof e?t=>e:e,l={};let a=i(l);a.styles&&(s.appendChild(document.createTextNode(a.styles)),document.head.contains(s)||document.head.appendChild(s));const h=Object.assign(((e,...t)=>{var n;const o=c(e),r=[],l={[E]:o?r:null!==(n=e[E])&&void 0!==n?n:r},s=o?this(l,e,...t):this(l,...t);s.constructor=h;const a=i({});if(l[E].push(a),d(s,a.prototype),l[E]===r)for(o||f(s,e);r.length;){const e=r.shift().constructed;e&&u(s)(e.call(s))}return s}),{super:this,overrides:i,extended:y,valueOf:()=>{const e=Object.keys(a.prototype||{});return`${h.name}: {${e.join(", ")}}\n ↪ ${this.valueOf()}`}}),v={};!function e(t){var n;(null==t?void 0:t.super)&&e(t.super);const o=null===(n=t.overrides)||void 0===n?void 0:n.call(t,l).prototype;o&&d(v,o)}(this),d(v,a.prototype),Object.defineProperties(h,Object.getOwnPropertyDescriptors(v));const p=a.prototype?"className"in a.prototype?a.prototype.className:"classList"in a.prototype?a.prototype.classList:"?":"?",m=null!==(r=null===(o=null===(n=null===(t=(new Error).stack)||void 0===t?void 0:t.split("\n")[2])||void 0===n?void 0:n.match(/\((.*)\)/))||void 0===o?void 0:o[1])&&void 0!==r?r:"?";return Object.defineProperty(h,"name",{value:"<po-"+p+" @"+m+">"}),h}s.id="--po-extended-tag-styles",o||(I.appender=u,I.nodes=a);const h={};return r.forEach((function(e){if(h[e])return h[e];const t=(n,...r)=>{let i=document;if(c(n)&&(r.unshift(n),n={prototype:{}}),!c(n)){n.debugger&&delete n.debugger,n.document&&(i=n.document,delete n.document);const c=o?i.createElementNS(o,e.toLowerCase()):i.createElement(e);return c.constructor=t,d(c,l),f(c,n),u(c)(r),c}},n=Object.assign(t,{super:null,overrides:null,extended:y,valueOf:()=>`TagCreator: <${o||""}${o?"::":""}${e}>`});return Object.defineProperty(t,"name",{value:"<"+e+">"}),h[e]=n})),h},{"pots-container":P}=I("",["pots-container"]),x=P.extended({styles:'\n  pots-container.promise {\n    display: none;\n    color: #888;\n    font-size: 0.75em;\n  }\n  pots-container.promise:after {\n    content: "⋯";\n  }',prototype:{className:"promise"},constructed:()=>P({style:{display:"none"}},new Error("Constructed").stack.replace(/^Error: /,""))}),N=P.extended({styles:"\n  pots-container.error {\n    display: block;\n    color: #b33;\n  }",prototype:{className:"error"}});let D=function(){D=function(){},new MutationObserver((function(e){e.forEach((function(e){"childList"===e.type&&[].slice.call(e.removedNodes).forEach((e=>e&&e instanceof Element&&[...e.getElementsByTagName("*"),e].filter((e=>!e.ownerDocument.contains(e))).forEach((e=>{"onRemovedFromDOM"in e&&"function"==typeof e.onRemovedFromDOM&&e.onRemovedFromDOM()}))))}))})).observe(document.body,{subtree:!0,childList:!0})};function M(e,t){return e=e||document,t=t||{},e.querySelectorAll&&e.querySelectorAll("[id]").forEach((function(e){e.id&&(t[e.id]||(t[e.id]=e))})),t}AIUI=t})();